env:
  db:
    # If not specified, default to using TestContainers to support parallel testing
    local-db: ${TEST_LOCAL_DB:tc:postgresql:13://127.0.0.1:5432}

# specifying the config for the postgres container spun up by TestContainers
spring:
  datasource:
    uri: ${DB_URL}/pipelines_db
    url: ${DB_URL}/pipelines_db
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driverClassName: org.postgresql.Driver
    initializeOnStart: false
    upgradeOnStart: false

  # this will cause the test row insertion to run
  liquibase:
    contexts: test

  stairway-database:
    migrate-upgrade: true
    password: ${DB_PASSWORD} #stairwaypwd
    uri: ${DB_URL}/tsps_stairway_db # jdbc:${env.db.local-db}/tsps_stairway_db
    url: ${DB_URL}/tsps_stairway_db # jdbc:${env.db.local-db}/tsps_stairway_db
    username: ${DB_USERNAME} # stairwayuser
    poolMaxIdle: 1

imputation:
  # workspace id for the imputation workspace
  workspaceId: workspace_uuid

terra.common:
  kubernetes:
    in-kubernetes: false
  tracing:
    stackdriverExportEnabled: false

sam:
  baseUri: "testSamUri"

leonardo:
  baseUri: "https://test_leonardo_url/"
  # The below appTypeNames are in priority order for the named app type. This order is necessary for
  # the appComparisonFunction() located in AppUtils.java for selecting the best app for each app type.
  wdsAppTypeNames: ['WDS']
  cbasAppTypeNames: ['CROMWELL']
  dependencyUrlCacheTtlSeconds: 300 # Refresh every 5 minutes
  debugApiLogging: false

wds:
  apiV: "testapiv"
  debugApiLogging: true
